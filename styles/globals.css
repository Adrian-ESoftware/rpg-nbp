@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Transições suaves globais */
  *,
  *::before,
  *::after {
    transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  html {
    transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  body {
    transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Desabilitar transições */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      transition-duration: 0.01ms !important;
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      scroll-behavior: auto !important;
    }
  }

  /* Tema Base (Light - Pergaminho e Azul Clássico) - Mantido */
  :root {
    --background: 45 50% 96%;           /* pergaminho mais quente */
    --foreground: 225 25% 20%;           /* azul-acinzentado escuro */
    --card: 45 40% 94%;                 /* pergaminho um pouco mais escuro */
    --card-foreground: 225 25% 20%;
    --popover: 45 40% 93%;
    --popover-foreground: 225 25% 20%;
    --primary: 215 70% 58%;
    --primary-icon: 215 70% 28%;              /* azul celeste mais escuro */
    --primary-foreground: 0 0% 100%;
    --secondary: 140 30% 85%;            /* verde sálvia claro */
    --secondary-foreground: 140 25% 25%;
    --muted: 220 15% 88%;                /* cinza-azulado muito claro */
    --muted-foreground: 220 10% 45%;
    --accent: 35 75% 65%;                /* laranja suave (como selo de cera) */
    --accent-foreground: 35 30% 15%;
    --destructive: 0 72% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 45 25% 80%;
    --input: 45 25% 85%;
    --ring: 215 70% 58%;
  }

  /* Tema Dark (Noite Estrelada) - Mantido */
  .dark {
    --background: 230 25% 10%;           /* azul meia-noite profundo */
    --foreground: 210 30% 92%;           /* cinza-azulado claro (estrelas) */
    --card: 230 25% 14%;
    --card-foreground: 210 30% 92%;
    --popover: 230 25% 12%;
    --popover-foreground: 210 30% 92%;
    --primary: 190 80% 60%;
    --primary-icon: 190 80% 30%;              /* ciano elétrico mais escuro */
    --primary-foreground: 190 30% 10%;
    --secondary: 260 20% 35%;            /* violeta escuro (espaço profundo) */
    --secondary-foreground: 260 30% 90%;
    --muted: 225 15% 28%;                /* ardósia escura */
    --muted-foreground: 220 15% 65%;
    --accent: 50 70% 60%;                /* dourado cósmico */
    --accent-foreground: 50 30% 15%;
    --destructive: 0 65% 55%;            /* vermelho pulsar */
    --destructive-foreground: 0 0% 100%;
    --border: 225 15% 30%;
    --input: 225 15% 30%;
    --ring: 190 80% 60%;
  }

  /* Tema Fantasy (Roxo Místico e Prata Lunar) - REVISADO */
  .fantasy {
    --background: 270 50% 10%;           /* roxo noite profunda (mais roxo) */
    --foreground: 275 30% 95%;           /* lavanda pálida */
    --card: 270 45% 15%;                 /* roxo um pouco mais claro */
    --card-foreground: 275 30% 95%;
    --popover: 270 45% 13%;
    --popover-foreground: 275 30% 95%;
    --primary: 275 80% 60%;
    --primary-icon: 275 80% 30%;             /* roxo arcano mais escuro */
    --primary-foreground: 0 0% 100%;
    --secondary: 220 40% 45%;            /* azul luar (contraste suave) */
    --secondary-foreground: 220 15% 95%;
    --muted: 265 30% 30%;                /* roxo acinzentado */
    --muted-foreground: 270 25% 75%;
    --accent: 195 60% 70%;               /* prata-azulado místico (alto contraste) */
    --accent-foreground: 195 30% 15%;
    --destructive: 340 70% 55%;          /* rosa choque amaldiçoado */
    --destructive-foreground: 0 0% 100%;
    --border: 265 30% 35%;
    --input: 265 30% 35%;
    --ring: 275 80% 60%;
  }

  /* Tema RPG (Taverna Aconchegante) - Mantido */
  .rpg {
    --background: 30 30% 15%;           /* madeira escura rústica */
    --foreground: 45 60% 90%;           /* pergaminho iluminado */
    --card: 30 35% 18%;
    --card-foreground: 45 60% 90%;
    --popover: 30 35% 13%;
    --popover-foreground: 45 60% 90%;
    --primary: 35 75% 60%;
    --primary-icon: 35 75% 30%;              /* dourado aventureiro mais escuro */
    --primary-foreground: 35 30% 10%;
    --secondary: 120 25% 30%;            /* verde floresta escuro (capas) */
    --secondary-foreground: 120 15% 85%;
    --muted: 28 20% 25%;                 /* couro desgastado */
    --muted-foreground: 45 40% 70%;
    --accent: 210 25% 55%;               /* aço forjado (armaduras) */
    --accent-foreground: 210 15% 95%;
    --destructive: 15 65% 50%;           /* vermelho-ferrugem (sangue seco) */
    --destructive-foreground: 0 0% 100%;
    --border: 30 25% 25%;
    --input: 30 25% 25%;
    --ring: 35 75% 60%;
  }

  /* Tema Crimson (Sangue e Obsidiana) - REVISADO */
  .crimson {
    --background: 355 50% 9%;           /* vinho tinto muito escuro */
    --foreground: 15 20% 94%;           /* marfim pálido */
    --card: 355 45% 13%;
    --card-foreground: 15 20% 94%;
    --popover: 355 45% 11%;
    --popover-foreground: 15 20% 94%;
    --primary: 0 85% 58%;
    --primary-icon: 0 85% 28%;                /* vermelho sangue mais escuro */
    --primary-foreground: 0 0% 100%;
    --secondary: 210 10% 25%;            /* cinza obsidiana (frio e escuro) */
    --secondary-foreground: 210 15% 88%;
    --muted: 0 5% 18%;                   /* quase preto */
    --muted-foreground: 0 5% 60%;
    --accent: 40 65% 60%;                /* dourado macabro (contraste) */
    --accent-foreground: 40 30% 10%;
    --destructive: 0 75% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 210 10% 28%;
    --input: 210 10% 28%;
    --ring: 0 85% 58%;
  }

  /* Tema Emerald (Coração da Selva e Cascata) - REVISADO */
  .emerald {
    --background: 140 35% 11%;          /* verde musgo escuro */
    --foreground: 80 30% 88%;           /* verde folha pálido */
    --card: 140 30% 15%;
    --card-foreground: 80 30% 88%;
    --popover: 140 30% 13%;
    --popover-foreground: 80 30% 88%;
    --primary: 155 65% 48%;
    --primary-icon: 155 65% 18%;                  /* esmeralda mais escura */
    --primary-foreground: 155 30% 95%;
    --secondary: 35 50% 40%;             /* madeira tropical (contraste quente) */
    --secondary-foreground: 35 25% 92%;
    --muted: 150 20% 28%;                /* pedra úmida */
    --muted-foreground: 150 10% 65%;
    --accent: 190 70% 55%;               /* azul cascata vibrante (contraste frio) */
    --accent-foreground: 190 30% 10%;
    --destructive: 30 75% 55%;           /* laranja-terra */
    --destructive-foreground: 0 0% 100%;
    --border: 150 20% 30%;
    --input: 150 20% 30%;
    --ring: 155 65% 48%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  /* Otimização para elementos que mudam frequentemente */
  [data-theme-transition] {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* SVG fill classes for themed icon */
  .fill-background {
    fill: hsl(var(--background));
  }

  .fill-primary {
    fill: hsl(var(--primary));
  }

  .fill-primary-icon {
  fill: hsl(var(--primary-icon));
  }

  .fill-secondary {
    fill: hsl(var(--secondary));
  }

  /* Make SVG responsive */
  .themed-icon-svg {
    width: 100%;
    height: auto;
    max-width: 400px;
    max-height: 200px;
  }
}